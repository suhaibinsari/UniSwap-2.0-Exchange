{"ast":null,"code":"export function subscribeToNewBlock(provider, chainId, dispatch, isActive) {\n  if (provider && chainId !== undefined && isActive) {\n    const update = blockNumber => dispatch({\n      chainId,\n      blockNumber\n    });\n    provider.on('block', update);\n    provider.getBlockNumber().then(blockNumber => update(blockNumber), err => {\n      console.error(err);\n    });\n    return () => {\n      provider.off('block', update);\n    };\n  }\n  return () => undefined;\n}","map":{"version":3,"sources":["../../../../../../src/providers/blockNumber/common/subscribeToNewBlock.ts"],"names":[],"mappings":"AAKA,OAAM,SAAU,mBAAmB,CACjC,QAA4C,EAC5C,OAA4B,EAC5B,QAAsC,EACtC,QAAiB,EAAA;EAEjB,IAAI,QAAQ,IAAI,OAAO,KAAK,SAAS,IAAI,QAAQ,EAAE;IACjD,MAAM,MAAM,GAAI,WAAmB,IAAK,QAAQ,CAAC;MAAE,OAAO;MAAE;IAAW,CAAE,CAAC;IAC1E,QAAQ,CAAC,EAAE,CAAC,OAAO,EAAE,MAAM,CAAC;IAE5B,QAAQ,CAAC,cAAc,EAAE,CAAC,IAAI,CAC3B,WAAW,IAAK,MAAM,CAAC,WAAW,CAAC,EACnC,GAAG,IAAI;MACN,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC;IACpB,CAAC,CACF;IAED,OAAO,MAAK;MACV,QAAQ,CAAC,GAAG,CAAC,OAAO,EAAE,MAAM,CAAC;IAC/B,CAAC;EACF;EAED,OAAO,MAAM,SAAS;AACxB","sourceRoot":"","sourcesContent":["export function subscribeToNewBlock(provider, chainId, dispatch, isActive) {\n    if (provider && chainId !== undefined && isActive) {\n        const update = (blockNumber) => dispatch({ chainId, blockNumber });\n        provider.on('block', update);\n        provider.getBlockNumber().then((blockNumber) => update(blockNumber), (err) => {\n            console.error(err);\n        });\n        return () => {\n            provider.off('block', update);\n        };\n    }\n    return () => undefined;\n}\n//# sourceMappingURL=subscribeToNewBlock.js.map"]},"metadata":{},"sourceType":"module"}