{"ast":null,"code":"import { encodeUint } from '../common';\nimport { encodeCalls } from '../multicall2/encoder';\nimport { ethersAbi } from './constants';\nconst selector = ethersAbi.getSighash('aggregate');\nexport function encodeAggregate(calls) {\n  // function aggregate(tuple(address target, bytes callData)[] calls) public returns (tuple(uint256 blockNumber, bytes returnData)[])\n  // offset of the array is 0x20 because the only thing\n  // that goes before the array is the offset itself\n  const dynamicOffset = 0x20;\n  const res = selector + encodeUint(dynamicOffset);\n  // encode dynamic array of calls\n  return encodeCalls(res, calls);\n}","map":{"version":3,"sources":["../../../../../src/abi/multicall/encoder.ts"],"names":[],"mappings":"AAAA,SAAS,UAAU,QAAQ,WAAW;AACtC,SAAS,WAAW,QAAQ,uBAAuB;AACnD,SAAS,SAAS,QAAQ,aAAa;AAEvC,MAAM,QAAQ,GAAG,SAAS,CAAC,UAAU,CAAC,WAAW,CAAC;AAElD,OAAM,SAAU,eAAe,CAAC,KAAyB,EAAA;EACvD;EAEA;EACA;EACA,MAAM,aAAa,GAAG,IAAI;EAC1B,MAAM,GAAG,GAAG,QAAQ,GAAG,UAAU,CAAC,aAAa,CAAC;EAEhD;EACA,OAAO,WAAW,CAAC,GAAG,EAAE,KAAK,CAAC;AAChC","sourceRoot":"","sourcesContent":["import { encodeUint } from '../common';\nimport { encodeCalls } from '../multicall2/encoder';\nimport { ethersAbi } from './constants';\nconst selector = ethersAbi.getSighash('aggregate');\nexport function encodeAggregate(calls) {\n    // function aggregate(tuple(address target, bytes callData)[] calls) public returns (tuple(uint256 blockNumber, bytes returnData)[])\n    // offset of the array is 0x20 because the only thing\n    // that goes before the array is the offset itself\n    const dynamicOffset = 0x20;\n    const res = selector + encodeUint(dynamicOffset);\n    // encode dynamic array of calls\n    return encodeCalls(res, calls);\n}\n//# sourceMappingURL=encoder.js.map"]},"metadata":{},"sourceType":"module"}